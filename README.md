Untitled
================

## gie

gie is an R package for wrapping the Gas Infrastructure Europe (GIE)
REST API.

## API Key

The official documentation from GIE can be found
[here](https://agsi.gie.eu/GIE_API_documentation_v003.pdf)

Before proceeding with the examples you need to get a token / API key
from the [GIE homepage](https://agsi.gie.eu/#/api). On the API page you
can lookup EIC codes for the companies and facilities.

## Installation

Simply install from GitHub.

``` 

remotes::install_github("krose/gie")
```

## Usage

There are four functions. The paramters in the functions are
upper-/lower-case sensitive.

The first function gets the aggregated historical data for Europe or Non
Europe.

``` r
library(tidyverse)
library(gie)

eu <- gie_aggregate("eu")
ne <- gie_aggregate("ne")
glimpse(eu)
```

    ## Observations: 3,133
    ## Variables: 11
    ## $ status             <chr> "E", "E", "E", "E", "E", "E", "E", "E", "E"...
    ## $ gasDayStartedOn    <date> 2019-07-30, 2019-07-29, 2019-07-28, 2019-0...
    ## $ gasInStorage       <dbl> 899.6107, 896.5034, 893.3673, 889.0639, 885...
    ## $ full               <dbl> 82.67, 82.40, 82.11, 81.71, 81.36, 80.96, 8...
    ## $ trend              <dbl> 0.33, 0.32, 0.40, 0.36, 0.26, 0.28, 0.24, 0...
    ## $ injection          <dbl> 3988.84, 3717.05, 4538.01, 4182.42, 3440.87...
    ## $ withdrawal         <dbl> 353.58, 274.96, 172.81, 249.74, 601.55, 443...
    ## $ workingGasVolume   <dbl> 1088.156, 1087.932, 1088.041, 1088.041, 108...
    ## $ injectionCapacity  <dbl> 11706.46, 11706.52, 11708.32, 11708.37, 117...
    ## $ withdrawalCapacity <dbl> 19864.07, 19863.95, 19866.12, 19866.09, 198...
    ## $ info               <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...

The second function gets the aggregated historical data for a specific
country.

``` r
nl <- gie_country("NL")
glimpse(nl)
```

    ## Observations: 3,133
    ## Variables: 11
    ## $ status             <chr> "E", "E", "E", "E", "E", "E", "E", "E", "E"...
    ## $ gasDayStartedOn    <date> 2019-07-30, 2019-07-29, 2019-07-28, 2019-0...
    ## $ gasInStorage       <dbl> 112.1699, 111.9586, 111.6931, 111.3222, 110...
    ## $ full               <dbl> 86.37, 86.20, 86.00, 85.71, 85.45, 85.19, 8...
    ## $ trend              <dbl> 0.16, 0.20, 0.28, 0.27, 0.25, 0.24, -0.01, ...
    ## $ injection          <dbl> 337.91, 286.63, 391.66, 374.69, 358.63, 339...
    ## $ withdrawal         <dbl> 130.72, 22.72, 22.72, 22.72, 30.00, 27.11, ...
    ## $ workingGasVolume   <dbl> 129.8761, 129.8761, 129.8761, 129.8761, 129...
    ## $ injectionCapacity  <dbl> 1241.52, 1241.57, 1241.68, 1241.70, 1241.67...
    ## $ withdrawalCapacity <dbl> 2855.16, 2855.03, 2854.73, 2854.69, 2854.77...
    ## $ info               <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...

The third function gets the historical data for a specific company
wihtin a country. You can lookup the EIC codes from the API webpage.

``` r
eic <- gie_eic("PL", "53XPL000000PLNG6")
glimpse(eic)
```

    ## Observations: 1,156
    ## Variables: 7
    ## $ status          <chr> "C", "C", "C", "C", "C", "C", "C", "C", "C", "...
    ## $ gasDayStartedOn <date> 2019-07-30, 2019-07-29, 2019-07-28, 2019-07-2...
    ## $ lngInventory    <dbl> 144.80, 161.56, 179.52, 197.48, 215.96, 127.11...
    ## $ sendOut         <dbl> 142.2, 138.0, 138.0, 143.0, 136.0, 152.9, 137....
    ## $ dtmi            <dbl> 320, 320, 320, 320, 320, 320, 320, 320, 320, 3...
    ## $ dtrs            <dbl> 162.8, 162.8, 162.8, 162.8, 162.8, 162.8, 162....
    ## $ info            <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...

The last and fourth function gets the historical data for a specific
facility from a company wihtin a country. You can lookup the different
EIC codes from the API webpage.

``` r
eic <- gie_company_eic(country_code = "DE",
                       eic_code = "21W000000000100J",
                       eic_company_code = "21X000000001368W")
glimpse(eic)
```

    ## Observations: 1,308
    ## Variables: 11
    ## $ status             <chr> "C", "C", "C", "C", "C", "C", "C", "C", "C"...
    ## $ gasDayStartedOn    <date> 2019-07-30, 2019-07-29, 2019-07-28, 2019-0...
    ## $ gasInStorage       <dbl> 2.1631, 2.1631, 2.1631, 2.1631, 2.1631, 2.1...
    ## $ full               <dbl> 98.99, 98.99, 98.99, 98.99, 98.99, 98.99, 9...
    ## $ trend              <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
    ## $ injection          <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
    ## $ withdrawal         <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
    ## $ workingGasVolume   <dbl> 2.1851, 2.1851, 2.1851, 2.1851, 2.1851, 2.1...
    ## $ injectionCapacity  <dbl> 210.67, 210.67, 210.67, 210.67, 210.67, 210...
    ## $ withdrawalCapacity <dbl> 361.15, 361.15, 361.15, 361.15, 361.15, 361...
    ## $ info               <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...

## Future Development

If needed, params for ‘from’, ‘till’ and ‘limit’ can be implemented.
