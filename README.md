gie R Package
================

## gie

gie is an R package for wrapping the Gas Infrastructure Europe (GIE)
REST API.

## API Key

The official documentation from GIE can be found
[here](https://agsi.gie.eu/GIE_API_documentation_v003.pdf)

Before proceeding with the examples you need to get a token / API key
from the [GIE homepage](https://agsi.gie.eu/#/api). On the API page you
can lookup EIC codes for the companies and facilities.

## EIC Codes

You can find the EIC codes here:

  - Gas: <https://agsi.gie.eu/#/api>
  - LNG: <https://alsi.gie.eu/#/api>

## Installation

Simply install from GitHub.

``` 

remotes::install_github("krose/gie")
```

## Usage

There are four functions. The paramters in the functions are
upper-/lower-case sensitive.

The first function gets the aggregated historical data for Europe or Non
Europe.

``` r
library(tidyverse)
library(gie)

ne_gas <- gie_gas_aggregate("ne")
eu_lng <- gie_lng_aggregate("eu")

glimpse(ne_gas)
```

    ## Observations: 3,133
    ## Variables: 11
    ## $ status             <chr> "C", "C", "C", "C", "C", "C", "C", "C", "C"...
    ## $ gasDayStartedOn    <date> 2019-07-30, 2019-07-29, 2019-07-28, 2019-0...
    ## $ gasInStorage       <chr> "164.9570", "164.3907", "163.6914", "162.95...
    ## $ full               <chr> "51.01", "50.76", "50.55", "50.32", "50.04"...
    ## $ trend              <chr> "0.24", "0.22", "0.25", "0.28", "0.24", "0....
    ## $ injection          <chr> "772.60", "699.26", "797.27", "895.73", "76...
    ## $ withdrawal         <chr> "0.01", "0.00", "0.00", "0.00", "0.00", "0....
    ## $ workingGasVolume   <chr> "323.4009", "323.8287", "323.8287", "323.85...
    ## $ injectionCapacity  <chr> "2934.50", "2936.34", "2936.34", "2936.81",...
    ## $ withdrawalCapacity <chr> "2750.15", "2752.94", "2752.94", "2753.19",...
    ## $ info               <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...

``` r
glimpse(eu_lng)
```

    ## Observations: 2,769
    ## Variables: 7
    ## $ status          <chr> "E", "E", "E", "C", "C", "E", "C", "C", "E", "...
    ## $ gasDayStartedOn <date> 2019-07-30, 2019-07-29, 2019-07-28, 2019-07-2...
    ## $ lngInventory    <dbl> 5237.22, 5399.23, 5575.41, 5526.54, 5483.42, 5...
    ## $ sendOut         <dbl> 2564.4, 2613.9, 2545.3, 2886.3, 2944.7, 3097.7...
    ## $ dtmi            <dbl> 8740.90, 8907.97, 8907.97, 8907.97, 8907.97, 8...
    ## $ dtrs            <dbl> 6528.8, 6654.3, 6654.3, 6654.3, 6654.3, 6654.3...
    ## $ info            <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...

The second function gets the aggregated historical data for a specific
country.

``` r
nl <- gie_gas_country("NL")
gb <- gie_lng_country("GB")
glimpse(nl)
```

    ## Observations: 3,133
    ## Variables: 11
    ## $ status             <chr> "E", "E", "E", "E", "E", "E", "E", "E", "E"...
    ## $ gasDayStartedOn    <date> 2019-07-30, 2019-07-29, 2019-07-28, 2019-0...
    ## $ gasInStorage       <dbl> 112.1699, 111.9586, 111.6931, 111.3222, 110...
    ## $ full               <dbl> 86.37, 86.20, 86.00, 85.71, 85.45, 85.19, 8...
    ## $ trend              <dbl> 0.16, 0.20, 0.28, 0.27, 0.25, 0.24, -0.01, ...
    ## $ injection          <dbl> 337.91, 286.63, 391.66, 374.69, 358.63, 339...
    ## $ withdrawal         <dbl> 130.72, 22.72, 22.72, 22.72, 30.00, 27.11, ...
    ## $ workingGasVolume   <dbl> 129.8761, 129.8761, 129.8761, 129.8761, 129...
    ## $ injectionCapacity  <dbl> 1241.52, 1241.57, 1241.68, 1241.70, 1241.67...
    ## $ withdrawalCapacity <dbl> 2855.16, 2855.03, 2854.73, 2854.69, 2854.77...
    ## $ info               <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...

The third function gets the historical data for a specific company
wihtin a country. You can lookup the EIC codes from the API webpage.

``` r
eic_gas <- gie_gas_eic("AT", "25X-GSALLC-----E")
eic_lng <- gie_lng_eic("PL", "53XPL000000PLNG6")

glimpse(eic_gas)
```

    ## Observations: 1,543
    ## Variables: 11
    ## $ status             <chr> "C", "C", "C", "C", "C", "C", "C", "C", "C"...
    ## $ gasDayStartedOn    <date> 2019-07-30, 2019-07-29, 2019-07-28, 2019-0...
    ## $ gasInStorage       <dbl> 19.7765, 19.6840, 19.5779, 19.5206, 19.5155...
    ## $ full               <dbl> 98.92, 98.46, 97.93, 97.64, 97.61, 97.61, 9...
    ## $ trend              <dbl> 0.46, 0.53, 0.29, 0.03, 0.01, 0.02, 0.02, 0...
    ## $ injection          <dbl> 92.60, 106.02, 57.29, 5.13, 3.23, 3.60, 4.6...
    ## $ withdrawal         <dbl> 0.00, 0.00, 0.00, 0.00, 1.80, 0.00, 0.00, 0...
    ## $ workingGasVolume   <dbl> 19.9928, 19.9928, 19.9928, 19.9928, 19.9928...
    ## $ injectionCapacity  <dbl> 180.16, 180.16, 180.16, 180.16, 180.16, 180...
    ## $ withdrawalCapacity <dbl> 198.18, 198.18, 198.18, 198.18, 198.18, 198...
    ## $ info               <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...

``` r
glimpse(eic_lng)
```

    ## Observations: 1,156
    ## Variables: 7
    ## $ status          <chr> "C", "C", "C", "C", "C", "C", "C", "C", "C", "...
    ## $ gasDayStartedOn <date> 2019-07-30, 2019-07-29, 2019-07-28, 2019-07-2...
    ## $ lngInventory    <dbl> 144.80, 161.56, 179.52, 197.48, 215.96, 127.11...
    ## $ sendOut         <dbl> 142.2, 138.0, 138.0, 143.0, 136.0, 152.9, 137....
    ## $ dtmi            <dbl> 320, 320, 320, 320, 320, 320, 320, 320, 320, 3...
    ## $ dtrs            <dbl> 162.8, 162.8, 162.8, 162.8, 162.8, 162.8, 162....
    ## $ info            <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...

The last and fourth function gets the historical data for a specific
facility from a company wihtin a country. You can lookup the different
EIC codes from the API webpage.

``` r
eic_gas <- gie_gas_company_eic(country_code = "DE",
                       eic_code = "21W000000000100J",
                       eic_company_code = "21X000000001368W")
eic_lng <- gie_lng_company_eic(country_code = "IT",
                       eic_code = "59W0000000000011",
                       eic_company_code = "26X00000117915-0")
glimpse(eic_gas)
```

    ## Observations: 1,308
    ## Variables: 11
    ## $ status             <chr> "C", "C", "C", "C", "C", "C", "C", "C", "C"...
    ## $ gasDayStartedOn    <date> 2019-07-30, 2019-07-29, 2019-07-28, 2019-0...
    ## $ gasInStorage       <dbl> 2.1631, 2.1631, 2.1631, 2.1631, 2.1631, 2.1...
    ## $ full               <dbl> 98.99, 98.99, 98.99, 98.99, 98.99, 98.99, 9...
    ## $ trend              <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
    ## $ injection          <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
    ## $ withdrawal         <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
    ## $ workingGasVolume   <dbl> 2.1851, 2.1851, 2.1851, 2.1851, 2.1851, 2.1...
    ## $ injectionCapacity  <dbl> 210.67, 210.67, 210.67, 210.67, 210.67, 210...
    ## $ withdrawalCapacity <dbl> 361.15, 361.15, 361.15, 361.15, 361.15, 361...
    ## $ info               <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...

``` r
glimpse(eic_lng)
```

    ## Observations: 2,769
    ## Variables: 7
    ## $ status          <chr> "C", "C", "C", "C", "C", "C", "C", "C", "C", "...
    ## $ gasDayStartedOn <date> 2019-07-30, 2019-07-29, 2019-07-28, 2019-07-2...
    ## $ lngInventory    <dbl> 27.19, 32.50, 39.85, 25.59, 14.49, 8.92, 14.99...
    ## $ sendOut         <dbl> 36.0, 49.7, 82.5, 72.2, 81.6, 41.0, 40.9, 40.8...
    ## $ dtmi            <dbl> 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40...
    ## $ dtrs            <dbl> 119.5, 119.5, 119.5, 119.5, 119.5, 119.5, 119....
    ## $ info            <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...

## Future Development

If needed, params for ‘from’, ‘till’ and ‘limit’ can be implemented.
